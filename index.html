<!DOCTYPE html>
<html lang="pt-br">
<head>
<meta charset="UTF-8">
<title>NOX Quiz</title>

<style>
body{
  margin:0;
  font-family:Arial, Helvetica, sans-serif;
  background:linear-gradient(135deg,#0f172a,#020617);
  color:#fff;
  display:flex;
  justify-content:center;
  align-items:center;
  height:100vh;
}

.card{
  background:#020617;
  border-radius:16px;
  padding:22px;
  width:92%;
  max-width:420px;
  box-shadow:0 0 40px rgba(0,0,0,.6);
  animation:fade .35s;
}

h1,h2,p{ text-align:center; }

button{
  width:100%;
  padding:12px;
  border:none;
  border-radius:10px;
  background:#4f46e5;
  color:white;
  font-size:15px;
  cursor:pointer;
  margin-top:10px;
  transition:.15s;
}

button:hover{
  transform:scale(1.03);
  background:#6366f1;
}

.option{
  background:#111827;
}

.option.correct{
  background:#16a34a;
}

.option.wrong{
  background:#dc2626;
}

button:disabled{
  opacity:.8;
  cursor:not-allowed;
}

.progress{
  height:8px;
  background:#1f2933;
  border-radius:10px;
  overflow:hidden;
  margin-bottom:10px;
}

.bar{
  height:100%;
  width:0%;
  background:#22c55e;
  transition:.3s;
}

.counter{
  text-align:center;
  font-size:13px;
  opacity:.8;
  margin-bottom:10px;
}

.footer{
  text-align:center;
  font-size:11px;
  opacity:.5;
  margin-top:15px;
}

@keyframes fade{
  from{opacity:0; transform:translateY(10px)}
  to{opacity:1; transform:translateY(0)}
}
</style>
</head>
<body>

<div class="card" id="app"></div>

<script>
const allQuestions = [
  {q:"Qual linguagem roda no navegador?", a:["Python","Java","JavaScript","C++"], c:2},
  {q:"HTML serve pra quê?", a:["Banco","Estrutura","Estilo","Servidor"], c:1},
  {q:"CSS é usado para?", a:["Banco","Lógica","Estilo","API"], c:2},
  {q:"GitHub Pages é…", a:["Banco","Hospedagem","Editor","Servidor pago"], c:1},
  {q:"JS é linguagem?", a:["Marcação","Estilo","Programação","Banco"], c:2},
  {q:"Qual não é linguagem?", a:["HTML","CSS","Python","Node"], c:3},
  {q:"LocalStorage salva…", a:["No PC","Na nuvem","No navegador","No GitHub"], c:2},
  {q:"Front-end é…", a:["Servidor","Banco","Interface","API"], c:2},
  {q:"Back-end cuida de…", a:["Estilo","Layout","Servidor","Fonte"], c:2},
  {q:"Qual é framework JS?", a:["Laravel","React","Django","Flask"], c:1}
];

let nick="";
let questions=[];
let index=0;
let score=0;
let locked=false;

const app=document.getElementById("app");

function shuffle(arr){
  return arr.sort(()=>Math.random()-0.5);
}

function startScreen(){
  app.innerHTML=`
    <h1>NOX QUIZ</h1>
    <p>Digite seu nick</p>
    <input id="nickInput" placeholder="Seu nick">
    <button onclick="startGame()">Começar</button>
    <div class="footer">criando por NOX GAME. Borges019</div>
  `;
}

function startGame(){
  const v=document.getElementById("nickInput").value.trim();
  if(!v) return;
  nick=v;

  questions=shuffle([...allQuestions]).slice(0,5);
  index=0;
  score=0;

  renderQuestion();
}

function renderQuestion(){
  locked=false;

  const q=questions[index];
  const percent=(index/questions.length)*100;

  app.innerHTML=`
    <div class="progress">
      <div class="bar" style="width:${percent}%"></div>
    </div>

    <div class="counter">Pergunta ${index+1} / ${questions.length}</div>

    <h2>${q.q}</h2>

    ${q.a.map((opt,i)=>`
      <button class="option" onclick="answer(${i}, this)">${opt}</button>
    `).join("")}

    <div class="footer">criando por NOX GAME. Borges019</div>
  `;
}

function answer(i,btn){
  if(locked) return;
  locked=true;

  const q=questions[index];
  const buttons=document.querySelectorAll(".option");

  if(i===q.c){
    btn.classList.add("correct");
    score++;
  }else{
    btn.classList.add("wrong");
    buttons[q.c].classList.add("correct");
  }

  buttons.forEach(b=>b.disabled=true);

  setTimeout(()=>{
    index++;
    if(index<questions.length){
      renderQuestion();
    }else{
      finish();
    }
  },700);
}

function finish(){
  const total=questions.length;
  const percent=Math.round((score/total)*100);
  const ganhou=score>=3;

  app.innerHTML=`
    <h2>${nick}</h2>
    <p>Acertos: ${score} / ${total}</p>
    <p>Aproveitamento: ${percent}%</p>
    <h1>${ganhou ? "Você ganhou" : "Você perdeu"}</h1>

    <button onclick="playAgain()">Jogar novamente</button>
    <button onclick="startScreen()">Trocar nick</button>

    <div class="footer">criando por NOX GAME. Borges019</div>
  `;
}

function playAgain(){
  questions=shuffle([...allQuestions]).slice(0,5);
  index=0;
  score=0;
  renderQuestion();
}

startScreen();
</script>

</body>
</html>
